(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[15],{266:function(e,t,a){"use strict";a.r(t);var r=a(44),n=a.n(r),c=a(45),s=a(48),o=a(46),l=a(43),u=a.n(l),i=a(0),m=a.n(i),p=a(65),d=a(21),f=(a(47),a(13));t.default=Object(d.b)((function(e){return{isLogged:e.Login.isLogged}}),(function(e){return{onLogin:function(t){e(Object(p.a)(t))}}}))((function(e){e.isLogged&&e.history.push("/");var t=Object(i.useState)(""),a=Object(s.a)(t,2),r=a[0],l=a[1],p=Object(i.useState)(""),d=Object(s.a)(p,2),b=d[0],g=d[1],h=Object(i.useState)(!1),v=Object(s.a)(h,2),E=v[0],N=v[1],w=function(){var t=Object(c.a)(n.a.mark((function t(a){var c;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),""!==r&&""!==b){t.next=5;break}u.a.fire("Error","Do not leave any fields empty!","error"),t.next=11;break;case 5:return N(!0),t.next=8,Object(o.a)("post","/auth/login",{email:r,password:b});case 8:"error"===(c=t.sent).type?u.a.fire("Error",c.msg,"error"):(u.a.fire("Success",c.msg,"success"),localStorage.setItem("authtoken",c.token),e.onLogin(c.details),e.history.push("/")),N(!1);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return m.a.createElement(m.a.Fragment,null,m.a.createElement("section",null,m.a.createElement("div",{className:"main-section"},m.a.createElement("div",{className:"container margin-css"},m.a.createElement("div",{className:"row justify-content-center"},m.a.createElement("div",{className:"col-lg-6 col-md-8 "},m.a.createElement("div",{className:"card"},m.a.createElement("form",{onSubmit:w},m.a.createElement("div",{className:"form-css"},m.a.createElement("header",{className:"navbar navbar-light bg-light"},m.a.createElement("div",{className:"container p-1 ms-4"},m.a.createElement("div",{className:"main-nav"},m.a.createElement("img",{className:"mt-2 ms-2 logo",src:"/logo.jpg",alt:"logo"}))))),m.a.createElement("h1",{className:" mt-4 text-center"},"Login Page"),m.a.createElement("div",{className:"px-5 mt-4"},m.a.createElement("div",{className:"mb-3"},m.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"form-label"},"Email"),m.a.createElement("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Your Email",value:r,onChange:function(e){return l(e.target.value)}})),m.a.createElement("div",{className:"mb-3"},m.a.createElement("label",{htmlFor:"exampleInputPassword1",className:"form-label "},"Password"),m.a.createElement("input",{type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"*********",value:b,onChange:function(e){return g(e.target.value)}})),m.a.createElement(f.b,{className:"password",to:"/forget"},"Forget Password?"),m.a.createElement("div",{className:"mt-3 d-grid gap-2"},m.a.createElement("button",{type:"submit",className:"p-3 btn btn-primary",disabled:E},"LOGIN")),m.a.createElement("div",{className:" mb-4 text-end mt-3"},m.a.createElement("h6",null,"New User ?",m.a.createElement(f.b,{className:"ms-1 new-user",to:"/register"},"New User"))))))))))))}))},46:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return m})),a.d(t,"d",(function(){return p})),a.d(t,"c",(function(){return d}));var r=a(44),n=a.n(r),c=a(45),s=a(52),o=a.n(s),l=a(43),u=a.n(l),i=function(){var e=Object(c.a)(n.a.mark((function e(t,a,r){var c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o()({url:"/api"+a,method:t,data:r});case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(n.a.mark((function e(t,a,r){var c,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("authtoken");case 2:return c=e.sent,e.next=5,o()({url:"/api"+a,method:t,data:r,headers:{scholarauthtoken:"ScholarApp AuthToken "+c}});case 5:if("logout"!==(s=e.sent).data.type){e.next=11;break}window.location="/logout",u.a.fire("Error",s.data.msg,"error"),e.next=12;break;case 11:return e.abrupt("return",s.data);case 12:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),p=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},d=function(){var e=Object(c.a)(n.a.mark((function e(t,a,r){var c,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("authtoken");case 2:return c=e.sent,e.next=5,o()({url:"/api"+a,method:t,data:r,headers:{scholarauthtoken:"ScholarApp AuthToken "+c,Accept:"application/json","Content-Type":"multipart/form-data"}});case 5:if("logout"!==(s=e.sent).data.type){e.next=11;break}window.location="/logout",u.a.fire("Error",s.data.msg,"error"),e.next=12;break;case 11:return e.abrupt("return",s.data);case 12:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}()},47:function(e,t,a){},65:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return c}));var r=a(15),n=function(e){return{type:r.a,payload:e}},c=function(){return{type:r.b}}}}]);